<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Hugo Shortcodes for Coding Blogs</title>
	<meta name="description" content="Electronics, Making, Software Development, and Amateur Radio from a Midwest Nerd">
	
	
	
	
	<link rel ="stylesheet" type="text/css" href="../../css/style.css">
	
	<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://jeff.glass/post/cloud-resume-challenge-shortcodes/shortcodes_featured.png"/>
<meta name="twitter:title" content="Hugo Shortcodes for Coding Blogs"/>
<meta name="twitter:description" content="Useful Hugo Shortcodes for Programming Sites"/>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.min.css" />	
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />

	
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BZTF8S6M1E"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BZTF8S6M1E', { 'anonymize_ip': false });
}
</script>


	<link rel="icon" href="../../favicon.ico?v=2"> 
	
</head>
<body>
	
	<main>
		<header>

<div class="fixed z-20 flex flex-row items-end w-full p-2 bg-green-800 t-0">
    
    <div class="flex-none hidden lg:flex">
        <div class="flex-none px-2">
            <span class="px-4 text-3xl font-bold text-green-200 transition duration-500 transform hover:text-green-50">
                <a href='../../' class= "no-style-link">Jeff Glass</a>
            </span>
        </div>
        <div class="flex-none menu-item-green ">
            <a href="../../#Introduction" class="z-30 clickable-link-box no-style-link"><span></span></a>
            Home
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../project" class="z-30 clickable-link-box no-style-link"><span></span></a>
            Projects
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../post" class="z-30 clickable-link-box no-style-link"><span></span></a> Blog  
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../oneoff" class="z-30 clickable-link-box no-style-link"><span></span></a>
            One-Offs
        </div>
    </div>
    
    <div class="flex justify-start flex-1 w-auto lg:hidden align-left large-menu">
        <div class="flex-none menu-item-green mobile-menu-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </div>
        <div class="flex-none">
            <span class="px-4 text-3xl font-bold text-green-200 transition duration-500 transform hover:text-green-50">
                <a href='../../' class= "no-style-link">Jeff Glass</a>
            </span>
        </div>
    </div>
    
    
    <div class="hidden text-green-200 transition mobile-menu">
            <div class="w-auto m-auto"><a href="../../"         class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Home</a></div>
            <div class="w-auto m-auto"><a href="../../project"  class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Projects</a></div>
            <div class="w-auto m-auto"><a href="../../post"     class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Blog</a></div>
            <div class="w-auto m-auto"><a href="../../oneoff"   class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">One-Offs</a></div>
    </div>
    
    <div class="justify-end flex-1 hidden w-auto h-auto align-top md:flex social-buttons">
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.youtube.com/channel/UCjgmTMVx2B5_DOB3bCZBq7A" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg class = "z-0" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M5 7H19C19.5523 7 20 7.44771 20 8V16C20 16.5523 19.5523 17 19 17H5C4.44772 17 4 16.5523 4 16V8C4 7.44772 4.44772 7 5 7ZM2 8C2 6.34315 3.34315 5 5 5H19C20.6569 5 22 6.34315 22 8V16C22 17.6569 20.6569 19 19 19H5C3.34315 19 2 17.6569 2 16V8ZM10 9L14 12L10 15V9Z" fill="currentColor"/>
            </svg>
        </div>
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.twitter.com/jeffersglass" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" class="ionicon" viewBox="0 0 512 512"><path d="M496 109.5a201.8 201.8 0 01-56.55 15.3 97.51 97.51 0 0043.33-53.6 197.74 197.74 0 01-62.56 23.5A99.14 99.14 0 00348.31 64c-54.42 0-98.46 43.4-98.46 96.9a93.21 93.21 0 002.54 22.1 280.7 280.7 0 01-203-101.3A95.69 95.69 0 0036 130.4c0 33.6 17.53 63.3 44 80.7A97.5 97.5 0 0135.22 199v1.2c0 47 34 86.1 79 95a100.76 100.76 0 01-25.94 3.4 94.38 94.38 0 01-18.51-1.8c12.51 38.5 48.92 66.5 92.05 67.3A199.59 199.59 0 0139.5 405.6a203 203 0 01-23.5-1.4A278.68 278.68 0 00166.74 448c181.36 0 280.44-147.7 280.44-275.8 0-4.2-.11-8.4-.31-12.5A198.48 198.48 0 00496 109.5z" fill="currentColor"/></svg>
        </div>
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.linkedin.com/in/jeffrey-r-glass" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 512 512"><path d="M444.17,32H70.28C49.85,32,32,46.7,32,66.89V441.61C32,461.91,49.85,480,70.28,480H444.06C464.6,480,480,461.79,480,441.61V66.89C480.12,46.7,464.6,32,444.17,32ZM170.87,405.43H106.69V205.88h64.18ZM141,175.54h-.46c-20.54,0-33.84-15.29-33.84-34.43,0-19.49,13.65-34.42,34.65-34.42s33.85,14.82,34.31,34.42C175.65,160.25,162.35,175.54,141,175.54ZM405.43,405.43H341.25V296.32c0-26.14-9.34-44-32.56-44-17.74,0-28.24,12-32.91,23.69-1.75,4.2-2.22,9.92-2.22,15.76V405.43H209.38V205.88h64.18v27.77c9.34-13.3,23.93-32.44,57.88-32.44,42.13,0,74,27.77,74,87.64Z" fill="currentColor"/></svg>
        </div>
    </div>
</div>
</header>
<script>
    const btn = document.querySelector("div.mobile-menu-button")
    const mobileMenu = document.querySelector(".mobile-menu")
    const largeMenu = document.querySelector(".large-menu")
    const socialButtons = document.querySelector(".social-buttons")

    btn.addEventListener("click", () =>{
        openMenu();
    })

    function openMenu() {
        mobileMenu.classList.toggle("hidden");
        largeMenu.classList.toggle("hidden");
        socialButtons.classList.add("hidden");
    }

    
    const smSize = 640;
    const mdSize = 768;
    const largeSize = 1024;
    window.addEventListener('resize', function(event) {
        if (event.target.screen.width > smSize ){
            mobileMenu.classList.add("hidden");
            largeMenu.classList.remove("hidden");
        }
    }, true);
</script>

		<div class="w-full bg-green-800 bg-opacity-10">
			<div class="pt-16"></div>
			<article class="w-full px-16 pt-4 pb-4 m-auto lg:w-11/12 bg-gray-50">
				<h1 class="pb-2 text-4xl">Hugo Shortcodes for Coding Blogs</h1>
				<p>Published August 23, 2022</p>
				
				
				<div>
					<span>Tags:</span>
					
					<a href="../../tags/cloud-resume">Cloud-Resume</a>
					
					<a href="../../tags/pyscript">PyScript</a>
					
					<a href="../../tags/python">Python</a>
					
				</div>
				
				
				<hr>
				<div>
					<script defer src="https://pyscript.net/releases/2022.06.1/pyscript.js"></script>
<link rel="stylesheet" href="https://pyscript.net/releases/2022.06.1/pyscript.css" />
<script defer src="https://pyscript.net/releases/2022.06.1/pyscript.css"></script>
<p class="post-p">As I've been <a href="tags/pyscript">diving deep into PyScript</a> the past couple months, I've developed a handful of shortcodes for Hugo that make it quicker and easier to display code snippets on the page in a nicely formatted way.</p>
<p class="post-">We'll use the following Python code as the source to be formatted. The code below is displayed by simply wrapped it in a pair of <code>&lt;pre&gt;&lt;/pre&gt;</code> tags:</p>
<div class="p-2 m-2 bg-gray-100 border-2 border-gray-500">
    <pre>
class hello_sayer:
    def __init__(self, greeting = "Hello"):
        self.greeting = greeting
    def say_hello(self, name):
        print(f"{self.greeting}, {name}!")

if __name__ == "__main__":
    h = hello_sayer("Good morning")
    h.say_hello("Jeff")</pre>
</div>
<p class="post-p">This really isn't a bad place to start, but now let's make it better.</p>
<p class="italic post-p">All of the following assumes the <a href="" hef="https://xyproto.github.io/splash/docs/monokai.html">monokai syntax highlighting theme</a> and use of the <a href="https://v2.tailwindcss.com/">tailwind css framework</a>. The custom css-classes used on this page are included <a href="#css-classes">at the end</a>.</p>
<h2 id="highlight" class="text-2xl">Built-in <code>{{&lt; highlight &gt;}}</code></h2>
<p class="post-p">We can use Hugo's built-in <code>{{&lt; highlight &gt;}}</code> shortcode to highlight our code.  This works fairly-well for simple code examples that you're copying and pasting into the document - it's also the default behavior if you're relyingon Markdown code fences to do highlighting for you.</p>
<div class="grid grid-cols-1 space-y-2 lg:space-x-2 lg:space-y-0 lg:grid-cols-2">
    <div class="">
        <p class="text-sm italic text-gray-500">Code</p>
        <pre class="bg-gray-100 border-2 border-gray-500">
{{ highlight python }}
    class hello_sayer:
        def __init__(self, greeting = "Hello"):
            self.greeting = greeting
        def say_hello(self, name):
            print(f"{self.greeting}, {name}!")

    if __name__ == "__main__":
        h = hello_sayer("Good morning")
        h.say_hello("Jeff")
{{ /highlight }}</pre>
    </div>
    <div class="">
        <p class="text-sm italic text-green-500">Result</p>
        <div class="p-1 border-2 border-green-500">
            <div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">hello_sayer</span>:
    <span style="color:#069;font-weight:bold">def</span> __init__(self, greeting <span style="color:#555">=</span> <span style="color:#c30">&#34;Hello&#34;</span>):
        self<span style="color:#555">.</span>greeting <span style="color:#555">=</span> greeting
    <span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">say_hello</span>(self, name):
        <span style="color:#366">print</span>(<span style="color:#c30">f</span><span style="color:#c30">&#34;</span><span style="color:#a00">{</span>self<span style="color:#555">.</span>greeting<span style="color:#a00">}</span><span style="color:#c30">, </span><span style="color:#a00">{</span>name<span style="color:#a00">}</span><span style="color:#c30">!&#34;</span>)

<span style="color:#069;font-weight:bold">if</span> __name__ <span style="color:#555">==</span> <span style="color:#c30">&#34;__main__&#34;</span>:
    h <span style="color:#555">=</span> hello_sayer(<span style="color:#c30">&#34;Good morning&#34;</span>)
    h<span style="color:#555">.</span>say_hello(<span style="color:#c30">&#34;Jeff&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
        </div>
    </div>
</div>
<h2 id="loadcode" class="mt-4 text-2xl">Import Code with <code>loadcode</code></h2>
<p class="post-p">The first and simplest shortcode I wrote I call <code>loadcode</code>, which simply takes the contents of an external file and drops it into the current file. The source is:</p>
<p class="code-title">layouts/shortcodes/loadcode.html</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{ os.ReadFile (.Get 0) | htmlUnescape | safeHTML}}</code></pre></td></tr></table>
</div>
</div>
<p class="post-p">If we move our "hello_saver" code into a separate file called <code>hellosayer.py</code>, we can use <code>loadcode</code> to dynamically load the text into our page. This allows for using an external code editor to work on the code itself (with autocompletion, linting etc) while keeping the display correct on the page.</p>
<div class="grid grid-cols-1 space-y-2 lg:space-x-2 lg:space-y-0 lg:grid-cols-2">
    <div class="">
        <p class="text-sm italic text-gray-500">Code</p>
        <pre class="bg-gray-100 border-2 border-gray-500">
<pre>{{&lt; highlight python &gt;}}
{{&lt; loadcode &quot;post/Cloud-Resume-Challenge-Shortcodes/hellosayer.py&quot; &gt;}}
{{&lt; /highlight &gt;}}</pre>
    </div>
    <div class="">
        <p class="text-sm italic text-green-500">Result</p>
        <div class="p-1 border-2 border-green-500">
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">hello_sayer</span>:
    <span style="color:#069;font-weight:bold">def</span> __init__(self, greeting <span style="color:#555">=</span> <span style="color:#c30">&#34;Hello&#34;</span>):
        self<span style="color:#555">.</span>greeting <span style="color:#555">=</span> greeting
    <span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">say_hello</span>(self, name):
        <span style="color:#366">print</span>(<span style="color:#c30">f</span><span style="color:#c30">&#34;</span><span style="color:#a00">{</span>self<span style="color:#555">.</span>greeting<span style="color:#a00">}</span><span style="color:#c30">, </span><span style="color:#a00">{</span>name<span style="color:#a00">}</span><span style="color:#c30">!&#34;</span>)

<span style="color:#069;font-weight:bold">if</span> __name__ <span style="color:#555">==</span> <span style="color:#c30">&#34;__main__&#34;</span>:
    h <span style="color:#555">=</span> hello_sayer(<span style="color:#c30">&#34;Good morning&#34;</span>)
    h<span style="color:#555">.</span>say_hello(<span style="color:#c30">&#34;Jeff&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
        </div>
    </div>
</div>
<h2 id="showcode" class="mt-4 text-2xl">Pleasing Code Displays with <code>{{&lt; showcode &gt;}}</code></h2>
<p class="post-p">Of course when writing about code, it's nice for me to have a fairly standard format that code blocks are displayed in, including the title of the included file. The <code>showcode</code> shortcode accomplishes this: it adds a nicely beveled header tag to the top of the code block, and ensures that if the code is over 20 lines, we prevent it from getting any longer and add a scrollbar. The second and third arguments to <code>showcode</code> are the language to try to highlight and the highlight options:</p>
<p class="code-title">layouts/shortcodes/showcode.html</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#309;font-weight:bold">div</span>&gt;
    &lt;<span style="color:#309;font-weight:bold">p</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;code-title&#34;</span>&gt;{{ path.Base (.Get 0) }}&lt;/<span style="color:#309;font-weight:bold">p</span>&gt;
    {{ $lines :=  len (split (os.ReadFile (.Get 0)) &#34;\n&#34;) }}
    {{ if ge $lines 21 }}
    &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;overflow-y-scroll h-124&#34;</span>&gt;
    {{ end }}
    {{ highlight (os.ReadFile (.Get 0) | htmlUnescape | safeHTML) (.Get 1) (.Get 2) }}
    {{ if ge $lines 21 }}
    &lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
    &lt;<span style="color:#309;font-weight:bold">p</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;post-img-caption&#34;</span>&gt;Scroll to see complete code&lt;/<span style="color:#309;font-weight:bold">p</span>&gt;
    {{ end }}
&lt;/<span style="color:#309;font-weight:bold">div</span>&gt;</code></pre></td></tr></table>
</div>
</div>
<p class="post-p">Applying this to our <code>hellosayer.py</code> example, we get:</p>
<div class="grid grid-cols-1 space-y-2 lg:space-x-2 lg:space-y-0 lg:grid-cols-2">
    <div class="">
        <p class="text-sm italic text-gray-500">Code</p>
        <pre class="bg-gray-100 border-2 border-gray-500">
<pre>{{&lt; showcode &quot;post/Cloud-Resume-Challenge-Shortcodes/hellosayer.py&quot; &quot;python&quot; &gt;}}</pre>
    </div>
    <div class="">
        <p class="text-sm italic text-green-500">Result</p>
        <div class="p-1 border-2 border-green-500">
            <div>
    <p class="code-title">hellosayer.py</p>
    
    
    <div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">hello_sayer</span>:
    <span style="color:#069;font-weight:bold">def</span> __init__(self, greeting <span style="color:#555">=</span> <span style="color:#c30">&#34;Hello&#34;</span>):
        self<span style="color:#555">.</span>greeting <span style="color:#555">=</span> greeting
    <span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">say_hello</span>(self, name):
        <span style="color:#366">print</span>(<span style="color:#c30">f</span><span style="color:#c30">&#34;</span><span style="color:#a00">{</span>self<span style="color:#555">.</span>greeting<span style="color:#a00">}</span><span style="color:#c30">, </span><span style="color:#a00">{</span>name<span style="color:#a00">}</span><span style="color:#c30">!&#34;</span>)

<span style="color:#069;font-weight:bold">if</span> __name__ <span style="color:#555">==</span> <span style="color:#c30">&#34;__main__&#34;</span>:
    h <span style="color:#555">=</span> hello_sayer(<span style="color:#c30">&#34;Good morning&#34;</span>)
    h<span style="color:#555">.</span>say_hello(<span style="color:#c30">&#34;Jeff&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
    
</div>
        </div>
    </div>
</div>
<h2 id="showandrun" class="mt-4 text-2xl">Displaying and Running PyScript Code with <code>{{&lt; showandrun &gt;}}</code></h2>
<p class="post-p">For an upcoming post about integrating the <a href="https://rich.readthedocs.io/en/stable/">Rich</a> terminal formatting library with PyScript, I'd like to be able to run a piece of Python code in PyScript on the page <span class="italic">and</span> display its source code adjacent to it. For this, I use the <code>showandrun</code> shortcode:</p>
<p class="post-p"><code>showandrun</code> creates a div which displays the source much like <code>showcode</code> does; however, for my purposes, since it's intended specifically to run Python code and be formatted a specific way, the language is hardcoded to "python3" and the options are not passed from the shortcode.</p>
<p class="post-p">The lengthy <a href="https://v2.tailwindcss.com/">tailwind</a> class list in the first div ensures that the code and results live side-by-side on large screens, but get stacked one-over-the-other on smaller/mobile screens. We also accept a "flip" parameter which swaps the placement of the code and results, if desired.</p>
<p class="code-title">layouts/shortcodes/shownadrun.html</p>
<div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;flex items-stretch flex-col-reverse space-y-2 {{ if (.Get &#34;</span><span style="color:#309">direction</span><span style="color:#a00;background-color:#faa">&#34;)</span> <span style="color:#a00;background-color:#faa">}}</span> <span style="color:#a00;background-color:#faa">{{</span> <span style="color:#309">if</span> <span style="color:#309">eq</span> <span style="color:#a00;background-color:#faa">(.</span><span style="color:#309">Get</span> <span style="color:#a00;background-color:#faa">&#34;</span><span style="color:#309">direction</span><span style="color:#a00;background-color:#faa">&#34;)</span> <span style="color:#a00;background-color:#faa">&#34;</span><span style="color:#309">flip</span><span style="color:#a00;background-color:#faa">&#34;</span> <span style="color:#a00;background-color:#faa">}}</span> <span style="color:#309">md:flex-row-reverse</span> <span style="color:#309">md:space-x-2</span> <span style="color:#309">md:space-x-reverse</span> <span style="color:#a00;background-color:#faa">{{</span> <span style="color:#309">end</span> <span style="color:#a00;background-color:#faa">}}</span> <span style="color:#a00;background-color:#faa">{{</span> <span style="color:#309">else</span> <span style="color:#a00;background-color:#faa">}}</span> <span style="color:#309">md:flex-row</span> <span style="color:#309">md:space-x-2</span><span style="color:#a00;background-color:#faa">{{</span> <span style="color:#309">end</span> <span style="color:#a00;background-color:#faa">}}&#34;</span>&gt;
    &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;flex flex-col items-stretch w-full md:w-1/2&#34;</span>&gt;
        &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;flex-none w-full italic h-7&#34;</span>&gt;Live PyScript Results:&lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
        &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;flex-auto w-full px-2 overflow-y-auto bg-gray-200 border-2 border-gray-400 max-h-124&#34;</span>&gt;
            &lt;<span style="color:#309;font-weight:bold">py-script</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;px-2&#34;</span> <span style="color:#309">src</span><span style="color:#555">=</span><span style="color:#c30">&#34;{{ path.Base (.Get &#34;</span><span style="color:#309">file</span><span style="color:#a00;background-color:#faa">&#34;)</span> <span style="color:#a00;background-color:#faa">}}&#34;</span>&gt;&lt;/<span style="color:#309;font-weight:bold">py-script</span>&gt;
            &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">id</span><span style="color:#555">=</span><span style="color:#c30">&#34;{{ strings.TrimSuffix &#34;</span><span style="color:#a00;background-color:#faa">.</span><span style="color:#309">py</span><span style="color:#a00;background-color:#faa">&#34;</span> <span style="color:#a00;background-color:#faa">(</span><span style="color:#309">path</span><span style="color:#a00;background-color:#faa">.</span><span style="color:#309">Base</span> <span style="color:#a00;background-color:#faa">(.</span><span style="color:#309">Get</span> <span style="color:#a00;background-color:#faa">&#34;</span><span style="color:#309">file</span><span style="color:#a00;background-color:#faa">&#34;))</span> <span style="color:#a00;background-color:#faa">}}</span><span style="color:#309">-output</span><span style="color:#a00;background-color:#faa">&#34;</span>&gt;&lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
        &lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
    &lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
    &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;w-full md:w-1/2&#34;</span>&gt;
        &lt;<span style="color:#309;font-weight:bold">p</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;code-title&#34;</span>&gt;{{ path.Base (.Get &#34;file&#34;) }}&lt;/<span style="color:#309;font-weight:bold">p</span>&gt;
        {{ $lines :=  len (split (os.ReadFile (.Get &#34;file&#34;)) &#34;\n&#34;) }}
        {{ if ge $lines 21 }}
        &lt;<span style="color:#309;font-weight:bold">div</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;overflow-y-scroll h-124&#34;</span>&gt;
        {{ end }}
        {{ highlight (os.ReadFile (.Get &#34;file&#34;) | htmlUnescape | safeHTML) &#34;python3&#34; &#34;&#34; }}
        {{ if ge $lines 21 }}
        &lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
        &lt;<span style="color:#309;font-weight:bold">p</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;post-img-caption&#34;</span>&gt;Scroll to see complete code&lt;/<span style="color:#309;font-weight:bold">p</span>&gt;
        {{ end }}
    &lt;/<span style="color:#309;font-weight:bold">div</span>&gt;
&lt;/<span style="color:#309;font-weight:bold">div</span>&gt;</code></pre></td></tr></table>
</div>
</div>
<p class="post-p">The result, when applied to <code>hellosayer.py</code>, is:</p>

<div class="grid grid-cols-1 space-y-2">
    <div class="">
        <p class="text-sm italic text-gray-500">Code</p>
        <pre class="bg-gray-100 border-2 border-gray-500">
<pre>{{&lt; showandrun file=&quot;post/Cloud-Resume-Challenge-Shortcodes/hellosayer.py&quot; direction=&quot;flip&quot; &gt;}}</pre>
    </div>
    <div class="">
        <p class="text-sm italic text-green-500">Result</p>
        <div class="p-1 border-2 border-green-500">
            <div class="flex items-stretch flex-col-reverse space-y-2   md:flex-row-reverse md:space-x-2 md:space-x-reverse  ">
    <div class="flex flex-col items-stretch w-full md:w-1/2">
        <div class="flex-none w-full italic h-7">Live PyScript Results:</div>
        <div class="flex-auto w-full px-2 overflow-y-auto bg-gray-200 border-2 border-gray-400 max-h-124">
            <py-script class="px-2" src="hellosayer.py"></py-script>
            <div id="hellosayer-output"></div>
        </div>
    </div>
    <div class="w-full md:w-1/2">
        <p class="code-title">hellosayer.py</p>
        
        
        <div class="highlight"><div style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#069;font-weight:bold">class</span> <span style="color:#0a8;font-weight:bold">hello_sayer</span>:
    <span style="color:#069;font-weight:bold">def</span> __init__(self, greeting <span style="color:#555">=</span> <span style="color:#c30">&#34;Hello&#34;</span>):
        self<span style="color:#555">.</span>greeting <span style="color:#555">=</span> greeting
    <span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">say_hello</span>(self, name):
        <span style="color:#366">print</span>(<span style="color:#c30">f</span><span style="color:#c30">&#34;</span><span style="color:#a00">{</span>self<span style="color:#555">.</span>greeting<span style="color:#a00">}</span><span style="color:#c30">, </span><span style="color:#a00">{</span>name<span style="color:#a00">}</span><span style="color:#c30">!&#34;</span>)

<span style="color:#069;font-weight:bold">if</span> __name__ <span style="color:#555">==</span> <span style="color:#c30">&#34;__main__&#34;</span>:
    h <span style="color:#555">=</span> hello_sayer(<span style="color:#c30">&#34;Good morning&#34;</span>)
    h<span style="color:#555">.</span>say_hello(<span style="color:#c30">&#34;Jeff&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
        
    </div>
</div>
        </div>
    </div>
</div>
<a id="css-classes"></a>
<h2 id="cssclasses" class="mt-4 text-2xl">CSS Classes</h2>
<p class="post-p">Many of the examples above make use of a couple of 'css-classes' in the tailwind style that I've defined for ease of use. Their definitions (in both tailwind classes and raw css) are:</p>
<div class="pl-4 overflow-y-auto h-124" style="background-color:#f0f0f0">
<div class="highlight"><pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">/* in tailwind styles: */
.code-title {
    @apply table-cell px-6 py-1 font-semibold leading-tight text-center text-white rounded-t-xl;
    background-color: #f0f3f3;
}

/* in css: */
.code-title {
    display: table-cell;
    padding-top: 0.25rem;
    padding-bottom: 0.25rem;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    color: #ffffff;
    font-weight: 600;
    line-height: 1.25;
    text-align: center;
    border-top-left-radius: 0.75rem;
    border-top-right-radius: 0.75rem;
    background-color: #f0f3f3;
}

/* in tailwind styles: */
.post-img-caption {
    @apply w-auto m-auto italic text-center;
    }

/* in css: */
.post-img-caption {
    font-style: italic;
    text-align: center;
    width: auto;
}</code></pre></div>
</div>
<p class="post-img-caption">Scroll to see complete code</p>

				</div>
				
			</article>
			<footer>
    <div class = "pt-4 pb-6 text-center text-gray-500" id="Footer">
        <p class="">All contents © Jeff Glass 2022. All rights reserved.</p>
        <p>See <a href="../../cloud-resume-challenge" class="underline">how this site was built</a>.</p>
    </div>
</footer>
		</div>
	</main>


	
</body>
</html>
