<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Advent of Code 2021</title>
	<meta name="description" content="Electronics, Making, Software Development, and Amateur Radio from a Midwest Nerd">
	
	
	
	
	<link rel ="stylesheet" type="text/css" href="../../css/style.css">
	
	<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://new.jeff.glass/python_cover.png"/>

<meta name="twitter:title" content="Advent of Code 2021"/>
<meta name="twitter:description" content="Solutions to the annual holiday coding challenge, all in Python and commented for your viewing pleasure."/>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.min.css" />
	<link rel="icon" href="../../favicon.ico?v=2"> 
</head>
<body>
	
	<main>
		<header>

<div class="fixed z-20 flex flex-row items-end w-full p-2 bg-green-800 t-0">
    
    <div class="flex-none hidden lg:flex">
        <div class="flex-none px-2">
            <span class="px-4 text-3xl font-bold text-green-200 transition duration-500 transform hover:text-green-50">
                <a href='../../' class= "no-style-link">Jeff Glass</a>
            </span>
        </div>
        <div class="flex-none menu-item-green ">
            <a href="../../#Introduction" class="z-30 clickable-link-box no-style-link"><span></span></a>
            Home
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../project" class="z-30 clickable-link-box no-style-link"><span></span></a>
            Projects
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../post" class="z-30 clickable-link-box no-style-link"><span></span></a> Blog  
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../oneoff" class="z-30 clickable-link-box no-style-link"><span></span></a>
            One-Offs
        </div>
        <div class="flex-none menu-item-green">
            <a href="../../resume" class="z-30 clickable-link-box no-style-link"><span></span></a>
            Resume
        </div>
    </div>
    
    <div class="flex justify-start flex-1 w-auto lg:hidden align-left large-menu">
        <div class="flex-none menu-item-green mobile-menu-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </div>
        <div class="flex-none">
            <span class="px-4 text-3xl font-bold text-green-200 transition duration-500 transform hover:text-green-50">
                <a href='../../' class= "no-style-link">Jeff Glass</a>
            </span>
        </div>
    </div>
    
    
    <div class="hidden text-green-200 transition mobile-menu">
            <div class="w-auto m-auto"><a href="../../"         class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Home</a></div>
            <div class="w-auto m-auto"><a href="../../project"  class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Projects</a></div>
            <div class="w-auto m-auto"><a href="../../post"     class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Blog</a></div>
            <div class="w-auto m-auto"><a href="../../oneoff"   class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">One-Offs</a></div>
            <div class="w-auto m-auto"><a href="../../resume"   class="block w-auto px-2 py-2 m-auto text-2xl transition duration-300 no-style-link hover:bg-green-500">Resume</a></div>
    </div>
    
    <div class="justify-end flex-1 hidden w-auto h-auto align-top md:flex social-buttons">
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.youtube.com/channel/UCjgmTMVx2B5_DOB3bCZBq7A" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg class = "z-0" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M5 7H19C19.5523 7 20 7.44771 20 8V16C20 16.5523 19.5523 17 19 17H5C4.44772 17 4 16.5523 4 16V8C4 7.44772 4.44772 7 5 7ZM2 8C2 6.34315 3.34315 5 5 5H19C20.6569 5 22 6.34315 22 8V16C22 17.6569 20.6569 19 19 19H5C3.34315 19 2 17.6569 2 16V8ZM10 9L14 12L10 15V9Z" fill="currentColor"/>
            </svg>
        </div>
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.twitter.com/jeffersglass" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" class="ionicon" viewBox="0 0 512 512"><path d="M496 109.5a201.8 201.8 0 01-56.55 15.3 97.51 97.51 0 0043.33-53.6 197.74 197.74 0 01-62.56 23.5A99.14 99.14 0 00348.31 64c-54.42 0-98.46 43.4-98.46 96.9a93.21 93.21 0 002.54 22.1 280.7 280.7 0 01-203-101.3A95.69 95.69 0 0036 130.4c0 33.6 17.53 63.3 44 80.7A97.5 97.5 0 0135.22 199v1.2c0 47 34 86.1 79 95a100.76 100.76 0 01-25.94 3.4 94.38 94.38 0 01-18.51-1.8c12.51 38.5 48.92 66.5 92.05 67.3A199.59 199.59 0 0139.5 405.6a203 203 0 01-23.5-1.4A278.68 278.68 0 00166.74 448c181.36 0 280.44-147.7 280.44-275.8 0-4.2-.11-8.4-.31-12.5A198.48 198.48 0 00496 109.5z" fill="currentColor"/></svg>
        </div>
        <div class="flex-none menu-item-green social-buttons">
            <a href="https://www.linkedin.com/in/jeffrey-r-glass" class="z-30 clickable-link-box no-style-link" target="_blank"><span></span></a>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 512 512"><path d="M444.17,32H70.28C49.85,32,32,46.7,32,66.89V441.61C32,461.91,49.85,480,70.28,480H444.06C464.6,480,480,461.79,480,441.61V66.89C480.12,46.7,464.6,32,444.17,32ZM170.87,405.43H106.69V205.88h64.18ZM141,175.54h-.46c-20.54,0-33.84-15.29-33.84-34.43,0-19.49,13.65-34.42,34.65-34.42s33.85,14.82,34.31,34.42C175.65,160.25,162.35,175.54,141,175.54ZM405.43,405.43H341.25V296.32c0-26.14-9.34-44-32.56-44-17.74,0-28.24,12-32.91,23.69-1.75,4.2-2.22,9.92-2.22,15.76V405.43H209.38V205.88h64.18v27.77c9.34-13.3,23.93-32.44,57.88-32.44,42.13,0,74,27.77,74,87.64Z" fill="currentColor"/></svg>
        </div>
    </div>
</div>
</header>
<script>
    const btn = document.querySelector("div.mobile-menu-button")
    const mobileMenu = document.querySelector(".mobile-menu")
    const largeMenu = document.querySelector(".large-menu")
    const socialButtons = document.querySelector(".social-buttons")

    btn.addEventListener("click", () =>{
        openMenu();
    })

    function openMenu() {
        mobileMenu.classList.toggle("hidden");
        largeMenu.classList.toggle("hidden");
        socialButtons.classList.add("hidden");
    }

    
    const smSize = 640;
    const mdSize = 768;
    const largeSize = 1024;
    window.addEventListener('resize', function(event) {
        if (event.target.screen.width > smSize ){
            mobileMenu.classList.add("hidden");
            largeMenu.classList.remove("hidden");
        }
    }, true);
</script>

		<div class="w-full bg-green-800 bg-opacity-10">
			<div class="pt-16"></div>
			<article class="w-full px-16 pt-4 pb-4 m-auto lg:w-3/4 md:w-5/6 bg-gray-50">
				<h1 class="pb-2 text-4xl">Advent of Code 2021</h1>
				
				<div>
					<span>Tags:</span>
					
					<a href="../../tags/codeadvent">codeadvent</a>
					
					<a href="../../tags/codeadvent2021">codeadvent2021</a>
					
					<a href="../../tags/python">python</a>
					
				</div>
				
				<div>
					<p class="post-p">Is it Advent of Code time again? Well, here goes nothing. Let's see wha we can cook up.</p>
<p class="post-p">I'm planning on completing most (all) of this year's challenges in Python, <a href="../../post/advent-of-code-2020/">same as last year</a>.</p>
<div class="w-auto pt-2 pb-4 pl-2 mr-2 -ml-2 align-top bg-gray-200 md:w-98">
    <p class="text-2xl">Table of Contents</p>
    <div class="ml-8 font-semibold">
        <p><a href="#day1">Day 1 - Sonar Sweep</a></p>
        <p><a href="#day2">Day 2 - Dive!</a></p>
        <p><a href="#day3">Day 3 - Binary Diagnostic</a></p>
        <p><a href="#day4">Day 4 - Giant Squid</a></p>
        <p><a href="#day5">Day 5 - Hydrothermal Venture</a></p>
    </div>
</div>
<h2 class="table-cell w-auto pb-1 border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day1">Day 1 - Sonar Sweep</h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">I feel like it's Advent of Code tradition for me to read in the input from file (as strings) and try to do comparisons on it like ints, forgetting to cast them to intergers. Which means I was comparing textually, instead of numerically, so my answer was off by <span class="italic">two</span>. Absurd. </p>
<p class="post-p">You really could do <a href="https://adventofcode.com/2021/day/1">today's challenge</a> entirely in one line, but I think it's slightly more readable broken up as I've done. Here's the complete code:</p>
<p class="code-title">Day1/Part1.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>) <span style="color:#66d9ef">as</span> infile:
<span style="display:block;width:100%;background-color:#3c3d38">    data <span style="color:#f92672">=</span> [int(t) <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)]
</span>
numDecreases <span style="color:#f92672">=</span> len([pair <span style="color:#66d9ef">for</span> pair <span style="color:#f92672">in</span> zip(data[:<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], data[<span style="color:#ae81ff">1</span>:]) <span style="color:#66d9ef">if</span> pair[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;</span> pair[<span style="color:#ae81ff">1</span>]])

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>numDecreases<span style="color:#e6db74">=}</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<p class="post-img-caption">The offending line, where I remembered to cast the input to ints.</p>
<h4 class="pt-4 pb-1 mt-4 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">Part 2 could also probably be inlined, but the list-comprehension-within-list-comprehension is, again, not the most readable thing, I think. Breaking out the three key steps (creating triples of the data, finding their sums, and finding where adjacent sums are decreasing) into 3 lines of code I think makes the solution more parsable.</p>
<p class="code-title">Day1/Part2.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#34;r&#34;</span>) <span style="color:#66d9ef">as</span> infile:
    data <span style="color:#f92672">=</span> [int(t) <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)]

triples <span style="color:#f92672">=</span> zip(data[:<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>], data[<span style="color:#ae81ff">1</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], data[<span style="color:#ae81ff">2</span>:])
windowSums <span style="color:#f92672">=</span> [sum(list(t)) <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> triples]

numDecreases <span style="color:#f92672">=</span> len([t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> zip(windowSums[:<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], windowSums[<span style="color:#ae81ff">1</span>:]) <span style="color:#66d9ef">if</span> t[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;</span> t[<span style="color:#ae81ff">1</span>]])

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>numDecreases<span style="color:#e6db74">=}</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 class="table-cell w-auto h-20 pb-1 align-bottom border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day2">Day 2 - Dive!</h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">The first part of today's challenge has us dealing with a list of things that happen sequentially (tracking the horizontal and vertical movements of our submarine), but the answer only has to do with summing them in some specific ways. This smells strongly of a 'gotcha' coming in part 2 - if we can the easy, just-sum-it-up route for part 1, we won't be able to reuse any code for part 2 when the order actually matters. But that's alright, I guess, we'll take the easy route on this one.</p>
<p class="post-p">There's a fair amount of repetition in my list comprehensions here, but for a 7-line program I don't terribly feel like factoring it out.</p>
<p class="code-title">Day2/Part1.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    <span style="color:#75715e"># data is a list of tuples; each tuple is of form (&#39;instruction&#39;, int) where &#39;instruction&#39; is forward, down, up</span>
    data <span style="color:#f92672">=</span> [(line<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">0</span>], int(line<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">1</span>])) <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)]

horizontal <span style="color:#f92672">=</span> sum([step[<span style="color:#ae81ff">1</span>] <span style="color:#66d9ef">for</span> step <span style="color:#f92672">in</span> data <span style="color:#66d9ef">if</span> step[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;forward&#39;</span>])
depth <span style="color:#f92672">=</span> sum([step[<span style="color:#ae81ff">1</span>] <span style="color:#66d9ef">for</span> step <span style="color:#f92672">in</span> data <span style="color:#66d9ef">if</span> step[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;down&#39;</span>]) <span style="color:#f92672">-</span> sum([step[<span style="color:#ae81ff">1</span>] <span style="color:#66d9ef">for</span> step <span style="color:#f92672">in</span> data <span style="color:#66d9ef">if</span> step[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;up&#39;</span>])
print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Solution product is </span><span style="color:#e6db74">{</span>horizontal <span style="color:#f92672">*</span> depth <span style="color:#e6db74">=}</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h4 class="pb-1 mt-4 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">As expected, we're paying the (small) price for not doing the first part iteratively. That's alright, we can implement it now.</p>
<p class="post-p">This does give me a chance to play with a new feature of Python 3.10: structural pattern matching. It's like a switch-case structure on steroids. To make sure I'm running this code in Python 3.10 specifically, I'll use pipenv to lock the version to 3.10.0 by running <code class="code">pipenv install --python 3.10</code> on the command line.</p>
<p class="post-p">Our code is ultimately fairly simple; thankfully, I encountered no "unmatched instruction" errors, which means I parsed the input correctly.</p>
<p class="code-title">Day2/Part2.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    <span style="color:#75715e"># data is a list of tuples; each tuple is of form (&#39;instruction&#39;, int) where &#39;instruction&#39; is forward, down, up</span>
    data <span style="color:#f92672">=</span> [(line<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">0</span>], int(line<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39; &#39;</span>)[<span style="color:#ae81ff">1</span>])) <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)]

horizontal, depth, aim <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> data:
    match d:
        case (<span style="color:#e6db74">&#39;down&#39;</span>, num):
            aim <span style="color:#f92672">+=</span> num
        case (<span style="color:#e6db74">&#39;up&#39;</span>, num):
            aim <span style="color:#f92672">-=</span> num
        case (<span style="color:#e6db74">&#39;forward&#39;</span>, num):
            horizontal <span style="color:#f92672">+=</span> num
            depth <span style="color:#f92672">+=</span> aim <span style="color:#f92672">*</span> num
        case _:
            <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Unmatched instruction </span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Solution is </span><span style="color:#e6db74">{</span>horizontal<span style="color:#f92672">*</span>depth<span style="color:#e6db74">= }</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 class="table-cell w-auto h-20 pb-1 align-bottom border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day3">Day 3 - Binary Diagnostic </h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">Ah, day 3 of Advent of Code, where we traditionally get into nested-processing, working with binary, and parsing numbers based on their digits. I don't know that this literally happens on day 3 every year, but it seems a familiar progression in the early days of an Advent of Code challenge. My first thought is - let's make sure we iterate through the entire input as few times as possible, something made easier by the fact that epsilon and gamma are, in some sense, complements of each other.</p>
<p class="post-p">This one's not too hard - using a <code class="code">defaultdict</code> from the <code class="code">collections</code> module makes the process of adding up the number of "1"'s in all the input numbers a little cleaner.</p>
<p class="code-title">Day3/Part1.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> defaultdict

<span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    data <span style="color:#f92672">=</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)

numInputs <span style="color:#f92672">=</span> len(data)
onesCount <span style="color:#f92672">=</span> defaultdict(<span style="color:#66d9ef">lambda</span>: <span style="color:#ae81ff">0</span>)

<span style="color:#75715e">#Count the number of &#34;1&#34;&#39;s at each digit position in all of the input numbers</span>
<span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> data:
    <span style="color:#66d9ef">for</span> i, digit <span style="color:#f92672">in</span> enumerate(num):
        onesCount[i] <span style="color:#f92672">+=</span> int(digit)

<span style="color:#75715e">#Calculate gamma, epison as lists of strings (&#34;1&#34; and &#34;0&#34;)</span>
gamma <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#66d9ef">if</span> onesCount[i] <span style="color:#f92672">&gt;</span> (numInputs <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;0&#34;</span>) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(onesCount))]
epsilon <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#66d9ef">if</span> gamma[i] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;0&#34;</span>) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(onesCount))]

<span style="color:#75715e">#Concatenate lists, as 0b to represent binary, cast to int</span>
result <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;0b&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(gamma), <span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> int(<span style="color:#e6db74">&#39;0b&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(epsilon), <span style="color:#ae81ff">2</span>)
print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>gamma<span style="color:#e6db74">= }</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>epsilon<span style="color:#e6db74">= }</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>result<span style="color:#e6db74">= }</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h4 class="pb-1 mt-4 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">Now we're moving into the realm of processing some input data with multiple passes, while restricting which data is in each pass based on our processing of previous steps. My initial solution was a little cumbersome, but I think gets the intention accross pretty well. </p>
<p class="code-title">Day2/Part2.py (Version 1)</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    inputdata <span style="color:#f92672">=</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">mostCommonDigitInPosition</span>(data, position):
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#66d9ef">if</span> sum([int(num[position]) <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> data]) <span style="color:#f92672">&gt;=</span> len(data)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;0&#34;</span>


oxyData <span style="color:#f92672">=</span> [d <span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> inputdata]
co2Data <span style="color:#f92672">=</span> [d <span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> inputdata]

<span style="color:#75715e">#find Oxygen Rating</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(inputdata[<span style="color:#ae81ff">0</span>])):
    <span style="color:#66d9ef">if</span> len(oxyData) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>: <span style="color:#66d9ef">break</span>
    MCD_o2 <span style="color:#f92672">=</span> mostCommonDigitInPosition(oxyData, i)
    oxyData <span style="color:#f92672">=</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> oxyData <span style="color:#66d9ef">if</span> t[i] <span style="color:#f92672">==</span> MCD_o2]

<span style="color:#75715e">#find CO2 Rating</span>
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(inputdata[<span style="color:#ae81ff">0</span>])):
    <span style="color:#66d9ef">if</span> len(co2Data) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>: <span style="color:#66d9ef">break</span>
    MCD_co2 <span style="color:#f92672">=</span> mostCommonDigitInPosition(co2Data, i)
    co2Data <span style="color:#f92672">=</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> co2Data <span style="color:#66d9ef">if</span> t[i] <span style="color:#f92672">!=</span> MCD_co2]

<span style="color:#66d9ef">if</span> len(oxyData) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>: oxygenRating <span style="color:#f92672">=</span> int(oxyData[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">2</span>)
<span style="color:#66d9ef">else</span>: <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Oxygen Data should only have one element, instead was </span><span style="color:#e6db74">{</span>oxyData<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)

<span style="color:#66d9ef">if</span> len(co2Data) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>: co2Rating <span style="color:#f92672">=</span> int(co2Data[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">2</span>)
<span style="color:#66d9ef">else</span>: <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;CO2 Data should only have one element, instead was </span><span style="color:#e6db74">{</span>co2Data<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Product: </span><span style="color:#e6db74">{</span>oxygenRating<span style="color:#e6db74">}</span><span style="color:#e6db74"> * </span><span style="color:#e6db74">{</span>co2Rating<span style="color:#e6db74">}</span><span style="color:#e6db74"> = </span><span style="color:#e6db74">{</span>oxygenRating <span style="color:#f92672">*</span> co2Rating<span style="color:#e6db74">= }</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<p class="post-p">We can refactor this a bit, so that the logic of reducing the list of input values is done in a function called <code class="code">calculateRating</code>, which takes a list of data as well as a function. The function tells us, for a given digit position, what value at that position should be used to keep values in our data for our next round of culling.</p>
<p class="post-p">While we could also get a little fancy and combine <code class="code">mostCommonDigitInPosition</code> and <code class="code">leastCommonDigitInPosition</code>, I think we'd actually be in danger of making things <span class="italic">too</span> concise. The difference between <code class="code">>=</code> and <code class="code">></code> in each case is critical, and I think factoring that out might be too reductive.</p>
<p class="code-title">Day3/Part2.py (Version 2)</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    inputdata <span style="color:#f92672">=</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">mostCommonDigitInPosition</span>(data, position):
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#66d9ef">if</span> sum([int(num[position]) <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> data]) <span style="color:#f92672">&gt;=</span> len(data)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;0&#34;</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">leastCommonDigitInPosition</span>(data, position):
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#66d9ef">if</span> sum([int(num[position]) <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> data]) <span style="color:#f92672">&gt;=</span> len(data)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;1&#34;</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calculateRating</span>(data, digitFunc):
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(data[<span style="color:#ae81ff">0</span>])):
        <span style="color:#66d9ef">if</span> len(data) <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>: <span style="color:#66d9ef">break</span>
        digitToMatch <span style="color:#f92672">=</span> digitFunc(data, i)
        data <span style="color:#f92672">=</span> [t <span style="color:#66d9ef">for</span> t <span style="color:#f92672">in</span> data <span style="color:#66d9ef">if</span> t[i] <span style="color:#f92672">==</span> digitToMatch]

    <span style="color:#66d9ef">if</span> len(data) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>: <span style="color:#66d9ef">return</span> int(data[<span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">2</span>)
    <span style="color:#66d9ef">else</span>: <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Function calculateRating should termiante with one element, instead was </span><span style="color:#e6db74">{</span>data<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)

oxygenRating <span style="color:#f92672">=</span> calculateRating(inputdata, mostCommonDigitInPosition)
co2Rating <span style="color:#f92672">=</span> calculateRating(inputdata, leastCommonDigitInPosition)

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Product: </span><span style="color:#e6db74">{</span>oxygenRating<span style="color:#e6db74">}</span><span style="color:#e6db74"> * </span><span style="color:#e6db74">{</span>co2Rating<span style="color:#e6db74">}</span><span style="color:#e6db74"> = </span><span style="color:#e6db74">{</span>oxygenRating <span style="color:#f92672">*</span> co2Rating<span style="color:#e6db74">= }</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 class="table-cell w-auto h-20 pb-1 align-bottom border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day4">Day 4 - Giant Squid</h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">Today my biggest obstacle was, as is often the case, myself trying to be too clever and concise. <a href="https://adventofcode.com/2021/day/4">Today's challenge</a> invovled parsing a somewhat more involved text file of inputs, and then further processing that input to make it into a useful data structure. Rather than load each bingo card as a 2D array, I used the input data to create two separate arrays, one indexed by rows, the other by columns, with boards at the same position representing the same board. Determining whether a board is winning (given a list of called numbers) is a simple as asking whether any of the lines (rows or columns) in that board have all their members in the called numbers.</p>
<p class="post-p">Had I simply constructed each type of input using <code class="code">for</code> loops, this would have been fairly simply, but I wanted everything packaged up nice in a list comprehension... which took me a spell to troubleshoot and get right. Ah well.</p>
<p class="code-title">Day4/part1.py</p>
<div class="overflow-y-scroll h-124">
    <div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3">    <span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
        inputChunks <span style="color:#f92672">=</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#39;</span>)
    
    <span style="color:#75715e">#---Parse the Input to make it useful----</span>
    
    allCalledNumbers <span style="color:#f92672">=</span> [int(num) <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> inputChunks[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>)]
    boards <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">.</span>join(chunk<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)) <span style="color:#66d9ef">for</span> chunk <span style="color:#f92672">in</span> inputChunks[<span style="color:#ae81ff">1</span>:]] <span style="color:#75715e">#get boards</span>
    
    <span style="color:#75715e">#Make board list of ints instead of long string by splitting every 3 characters</span>
    intBoards <span style="color:#f92672">=</span> [[int(b[n:n<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>]) <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, len(b), <span style="color:#ae81ff">3</span>)] <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> boards]
    
    <span style="color:#75715e">#boardrows is a list of boards, each of which are a list of rows in each board,</span>
    <span style="color:#75715e">#each of which is a list of ints</span>
    boardRows <span style="color:#f92672">=</span> [[b[index:index<span style="color:#f92672">+</span><span style="color:#ae81ff">5</span>] <span style="color:#66d9ef">for</span> index <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">5</span>)] <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> intBoards]
    
    <span style="color:#75715e">#boardcols is a list of boards, each of of which is a list of columns in each board,</span>
    <span style="color:#75715e">#each of which is a list of ints</span>
    boardCols <span style="color:#f92672">=</span> [[[b[row][index] <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>)] <span style="color:#66d9ef">for</span> index <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>)] <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> boardRows]
    
    <span style="color:#75715e">#---Define some functions to help us solve the problem as written---</span>
    
    <span style="color:#75715e">#For a given board (by row or column), are any of its lines made up only of numbers in &#39;calledNums&#39;?</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">isBoardAWin</span>(board, calledNums):
        <span style="color:#66d9ef">return</span> any([all([num <span style="color:#f92672">in</span> calledNums <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> line]) <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> board])
    
    <span style="color:#75715e">#Score is (sum of uncalled numbers on board) * (last number called)</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">calcScore</span>(board, calledNumbers):
        unusedNumbers <span style="color:#f92672">=</span> [num <span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> board <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> line <span style="color:#66d9ef">if</span> num <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> calledNumbers]
        <span style="color:#66d9ef">return</span> sum(unusedNumbers) <span style="color:#f92672">*</span> calledNumbers[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]
    
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">doWin</span>(board, calledNumbers):
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Score is </span><span style="color:#e6db74">{</span>calcScore(b, calledSoFar)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
        exit()
    
    <span style="color:#75715e">#---Find solution---</span>
    
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(allCalledNumbers)):
        calledSoFar <span style="color:#f92672">=</span> allCalledNumbers[:i]
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Searching for wins with numbers </span><span style="color:#e6db74">{</span>calledSoFar<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
        winner <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>
        <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> boardRows:
            <span style="color:#66d9ef">if</span> isBoardAWin(b, calledSoFar):
                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Winner board by row! </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
                doWin(b, calledSoFar)
    
    
        <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> boardCols:
            <span style="color:#66d9ef">if</span> isBoardAWin(b, calledSoFar):
                print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Winner board by column! </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
                doWin(b, calledSoFar)
    
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;No winners after </span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74"> numbers, calling next number&#34;</span>)
    </code></pre></td></tr></table>
</div>
</div>
</div>
<p class="post-img-caption">Scroll to see complete code</p>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">Thankfully, the infrastructure I built for part 1 of this puzzle was very useful for part to. Basically, instead of iterating through increasingly long lists of called numbers until the <span class="italic">first</span> winning is found, keep going until only 1 board has not won, recall that it's the winner, then keep adding called numbers until it does win.</p>
<p class="post-p">Since all of the setup and parsing steps are the same, I'll only include the solution finding part of the code, for brevity:</p>
<p class="code-title">Day2/Part2.py <span class="italic">(Partial)</span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e">#---Find solution---</span>

hasWon <span style="color:#f92672">=</span> [<span style="color:#66d9ef">False</span> <span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> boards]

<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(allCalledNumbers)):
    calledSoFar <span style="color:#f92672">=</span> allCalledNumbers[:i]
    <span style="color:#66d9ef">for</span> x, b <span style="color:#f92672">in</span> enumerate(boardRows):
        <span style="color:#66d9ef">if</span> isBoardAWin(b, calledSoFar):
            hasWon[x] <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
            
    <span style="color:#66d9ef">for</span> x, b <span style="color:#f92672">in</span> enumerate(boardCols):
        <span style="color:#66d9ef">if</span> isBoardAWin(b, calledSoFar):
            hasWon[x] <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>

    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;After calling </span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74"> numbers,&#34;</span>, end <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; &#34;</span>)
    <span style="color:#66d9ef">if</span> hasWon<span style="color:#f92672">.</span>count(<span style="color:#66d9ef">False</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
        winningIndex <span style="color:#f92672">=</span> hasWon<span style="color:#f92672">.</span>index(<span style="color:#66d9ef">False</span>)
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;found last board to win at index: </span><span style="color:#e6db74">{</span>winningIndex<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
    <span style="color:#66d9ef">elif</span> hasWon<span style="color:#f92672">.</span>count(<span style="color:#66d9ef">False</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;This board wins after </span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74"> numbers called,&#34;</span>,)
        doWin(boardCols[winningIndex], calledSoFar)
    <span style="color:#66d9ef">else</span>:
        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>hasWon<span style="color:#f92672">.</span>count(<span style="color:#66d9ef">False</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74"> boards have not won&#34;</span>)</code></pre></td></tr></table>
</div>
</div>
<h2 class="table-cell w-auto h-20 pb-1 align-bottom border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day5">Day 5 - Hydrothermal Venture </h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">One of the gotchas on this day is making incorrect assumptions about the ordering of points in a given line. For eaxmple, for a line with endpoints (3,5) and (3,0), doing something like: <code class="code">for y in range(point1.y, point2.y)</code> will generate exactly one point <code class="code">(3.5)</code>, because the ending y coordinate is less than the starting one. This can be fixed by either ranging over the values in a consistent direction (always from lesser to great, say) or by pre-sorting the line coordinates so that the first coordinate is always less than the second for the given axis. I chose to do the former.</p>
<p class="post-p">Unrelatedly, I'm personally a fan of <a href="https://regex101.com/">Regex101</a> for working out regexes. It makes the process of fleshing out a given pattern visual and intuitive, and the built-in reference guides and regex tips are invaluable.</p>
<p class="code-title">Day5/Part1.py</p>
<div class="overflow-y-scroll h-124">
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#f92672">import</span> re
<span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> namedtuple

<span style="color:#66d9ef">with</span> open (<span style="color:#e6db74">&#34;input.txt&#34;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> infile:
    data <span style="color:#f92672">=</span> infile<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)

Line <span style="color:#f92672">=</span> namedtuple(<span style="color:#e6db74">&#39;Line&#39;</span>, [<span style="color:#e6db74">&#39;p1x&#39;</span>, <span style="color:#e6db74">&#39;p1y&#39;</span>, <span style="color:#e6db74">&#39;p2x&#39;</span>, <span style="color:#e6db74">&#39;p2y&#39;</span>])
parsedData <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> d <span style="color:#f92672">in</span> data:
    reg <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(.+),(.+) -&gt; (.+),(.+)&#39;</span>, d)
    parsedData<span style="color:#f92672">.</span>append(Line(p1x <span style="color:#f92672">=</span> int(reg<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>)), p1y <span style="color:#f92672">=</span> int(reg<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">2</span>)), p2x <span style="color:#f92672">=</span> int(reg<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">3</span>)), p2y <span style="color:#f92672">=</span> int(reg<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">4</span>))))

horizontalLines <span style="color:#f92672">=</span> [l <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> parsedData <span style="color:#66d9ef">if</span> l<span style="color:#f92672">.</span>p1y <span style="color:#f92672">==</span> l<span style="color:#f92672">.</span>p2y]
verticalLines <span style="color:#f92672">=</span> [l <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> parsedData <span style="color:#66d9ef">if</span> l<span style="color:#f92672">.</span>p1x <span style="color:#f92672">==</span> l<span style="color:#f92672">.</span>p2x]

coveredOnce, coveredMany <span style="color:#f92672">=</span> set(), set()

<span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> horizontalLines:
    <span style="color:#66d9ef">for</span> xCoord <span style="color:#f92672">in</span> range(min(l<span style="color:#f92672">.</span>p1x, l<span style="color:#f92672">.</span>p2x), max(l<span style="color:#f92672">.</span>p1x, l<span style="color:#f92672">.</span>p2x)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
        point <span style="color:#f92672">=</span> (xCoord, l<span style="color:#f92672">.</span>p1y)
        <span style="color:#75715e">#If the point is already covered by multiple lines, we don&#39;t need to do anything more with it, but</span>
        <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredMany:
            <span style="color:#75715e">#If we haven&#39;t see it at all, we should mark that we&#39;ve now seen it once.</span>
            <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredOnce:
                coveredOnce<span style="color:#f92672">.</span>add(point)
            <span style="color:#75715e">#Otherwise, we should mark that we&#39;ve now seen it in multiple lines</span>
            <span style="color:#66d9ef">else</span>:
                coveredOnce<span style="color:#f92672">.</span>remove(point)
                coveredMany<span style="color:#f92672">.</span>add(point)

<span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> verticalLines:
    <span style="color:#66d9ef">for</span> yCoord <span style="color:#f92672">in</span> range(min(l<span style="color:#f92672">.</span>p1y, l<span style="color:#f92672">.</span>p2y), max(l<span style="color:#f92672">.</span>p1y, l<span style="color:#f92672">.</span>p2y)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
        point <span style="color:#f92672">=</span> (l<span style="color:#f92672">.</span>p1x, yCoord)
        <span style="color:#75715e">#If the point is already covered by multiple lines, we don&#39;t need to do anything more with it, but</span>
        <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredMany:
            <span style="color:#75715e">#If we haven&#39;t see it at all, we should mark that we&#39;ve now seen it once.</span>
            <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredOnce:
                coveredOnce<span style="color:#f92672">.</span>add(point)
            <span style="color:#75715e">#Otherwise, we should mark that we&#39;ve now seen it in multiple lines</span>
            <span style="color:#66d9ef">else</span>:
                coveredOnce<span style="color:#f92672">.</span>remove(point)
                coveredMany<span style="color:#f92672">.</span>add(point)
                
print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Solution is: </span><span style="color:#e6db74">{</span>len(coveredMany)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
    </code></pre></td></tr></table>
</div>
</div>
</div>
<p class="italic post-img-caption">Scroll to see complete code</p>
<h4 class="pb-1 mt-4 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">Having selected to iterate over the points in a line in a consistent way in the first half, I felt it might be easier to pre-process the diagonal lines in the second half. That is, I swapped the endpoints of each diagonal line as necessary to ensure the point with the lower X coordinate was first. Then, if the second y coordinate is great  than the first, each time we increase the x coordinate by 1, we will by definition incrase the y coordinate by 1. If the second y coordinate is less than the first, y decreased by 1 for each increase of the x coordinate. Other than that, the processing of each point to see if it's been covered already is the same as in part one.</p>
<p class="post-p">For brevity, I've only included the addititional processing necessary for part 2 of today's challenge.</p>
<p class="code-title">Day5/Part2.py <span class="italic">(Partial)</span></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3">diagonalLines <span style="color:#f92672">=</span> [l <span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> parsedData <span style="color:#66d9ef">if</span> l <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> verticalLines <span style="color:#f92672">and</span> l <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> horizontalLines]

<span style="color:#66d9ef">for</span> l <span style="color:#f92672">in</span> diagonalLines:
    <span style="color:#75715e">#Make sure the first coordinate of each line is left of the second coordinte</span>
    <span style="color:#66d9ef">if</span> l<span style="color:#f92672">.</span>p2x <span style="color:#f92672">&lt;</span> l<span style="color:#f92672">.</span>p1x: l <span style="color:#f92672">=</span> Line(p1x <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>p2x, p1y <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>p2y, p2x <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>p1x, p2y <span style="color:#f92672">=</span> l<span style="color:#f92672">.</span>p1y)
    <span style="color:#75715e">#Determine if y increases or descreases with increasing X</span>
    yDir <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> l<span style="color:#f92672">.</span>p2y <span style="color:#f92672">&gt;</span> l<span style="color:#f92672">.</span>p1y <span style="color:#66d9ef">else</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>

    <span style="color:#66d9ef">for</span> yDelta, xCoord <span style="color:#f92672">in</span> enumerate(range(l<span style="color:#f92672">.</span>p1x, l<span style="color:#f92672">.</span>p2x<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)):
        point <span style="color:#f92672">=</span> (xCoord, l<span style="color:#f92672">.</span>p1y <span style="color:#f92672">+</span> (yDelta<span style="color:#f92672">*</span>yDir))

        <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredMany:
            <span style="color:#75715e">#If we haven&#39;t see it at all, we should mark that we&#39;ve now seen it once.</span>
            <span style="color:#66d9ef">if</span> point <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> coveredOnce: 
                coveredOnce<span style="color:#f92672">.</span>add(point)
            <span style="color:#75715e">#Otherwise, we should mark that we&#39;ve now seen it in multiple lines</span>
            <span style="color:#66d9ef">else</span>:
                coveredOnce<span style="color:#f92672">.</span>remove(point)
                coveredMany<span style="color:#f92672">.</span>add(point)

print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Solution is: </span><span style="color:#e6db74">{</span>len(coveredMany)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)</code></pre></td></tr></table>
</div>
</div>



<!--
<h2 class="table-cell w-auto h-20 pb-1 align-bottom border-b-4 border-gray-200 md:w-96 post-h2 relative-anchor" id="day2">Day XXX - XXX </h2>
<h4 class="pt-4 pb-1 border-b-2 border-gray-200 post-h4 w-72">Part 1</h4>
<p class="post-p">Enim adipisicing nostrud in velit nisi anim aliquip nostrud duis officia do elit veniam irure.</p>
<p class="code-title">DayXXX/Part1.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e">#some code here</span></code></pre></td></tr></table>
</div>
</div>
<h4 class="pb-1 mt-4 border-b-2 border-gray-200 post-h4 w-72">Part 2</h4>
<p class="post-p">Mollit voluptate tempor cillum amet cillum incididunt nisi.</p>
<p class="code-title">DayXXX/Part2.py</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python3" data-lang="python3"><span style="color:#75715e">#Some Code Here</span></code></pre></td></tr></table>
</div>
</div>
-->

				</div>
				
			</article>
			<footer>
    <div class = "text-center text-gray-500 pb-6 pt-4" id="Footer">
        <p class="">All contents  Jeff Glass 2021. All rights reserved.</p>
        <p>Built for the <a class="underline" href="https://cloudresumechallenge.dev/" target="_blank">Cloud Resume Challenge</a>. See <a href="#" class="underline">how this site was built</a>.</p>
    </div>
</footer>
		</div>
	</main>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>
	<script>
		lightbox.option({
			'fadeDuration': 200,
			'resizeDuration': 200
		})
	</script>
</body>
</html>
