{{ define "main" }}
    {{ partial "header.html" . }}
	<main>
    <!-- Content -->
    <div class="h-auto px-12 pt-16 bg-gray-50">
        <div class="space-y-2" id="Introduction">
            <h1 class="text-3xl relative-anchor">Introduction</h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam non justo ac neque pharetra ultrices non ullamcorper nulla. Nunc porta dolor id sodales commodo. Integer id vulputate nunc. Mauris at malesuada metus, et sodales dui. Maecenas dignissim blandit nisl pretium pulvinar. Maecenas placerat nec purus ac cursus. Suspendisse efficitur urna sodales maximus auctor. Phasellus ac congue massa. Suspendisse condimentum fermentum tempor. Nulla varius, turpis nec pellentesque lacinia, ipsum risus iaculis dui, sodales sagittis ipsum lacus nec est. Etiam erat dui, efficitur non tristique non, tempus eu tellus. Praesent neque nibh, semper nec rutrum et, volutpat sed justo. Donec mollis nulla purus, ac lacinia ante consectetur vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae;</p>
            <p>Suspendisse feugiat lectus ante, et blandit nisl maximus non. Suspendisse et felis gravida felis posuere scelerisque. Praesent facilisis in dolor ac rhoncus. Donec posuere arcu quis lectus sollicitudin euismod. Nam gravida, lectus vitae viverra ultricies, augue turpis interdum nibh, id venenatis mauris libero tristique enim. Etiam efficitur dolor quis urna luctus, at varius diam fermentum. Sed vel consequat erat, in iaculis quam. In sollicitudin urna nunc, sit amet ullamcorper dui feugiat eu. Suspendisse potenti. Vivamus mollis euismod nisi iaculis mattis. Mauris in lacus in urna iaculis porta at at mauris. Integer placerat dictum nulla sollicitudin rutrum. Curabitur sed varius lorem. Nulla in velit posuere leo feugiat porta.</p>
        </div>
        <!-- PROJECTS -->
        <div class="my-8 space-y-2" id="Projects">
            <h1 class="text-3xl relative-anchor">Projects</h1>
            <p class="italic">Larger undertakings. Some for fun, some for pay, or both.</p>
            <div class="grid grid-cols-5 gap-2 my-4 h-96" id="Project list">
                {{ range first 5 (where .Site.Pages "Section" "project" ) }}
                    {{ if .IsPage }}
                        {{ .Render "card"}}
                    {{ end }}
                {{ end }}
                <div class= "grid items-center grid-cols-1 project-frame">
                    <a href="/project" class="z-10 clickable-link-box"><span></span></a>
                    <div class="align-center">
                        <h2 class="text-2xl font-bold text-center text-gray-800 ">More Projects</h2>
                        <svg xmlns="http://www.w3.org/2000/svg" class="block w-24 h-24 m-auto text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                          </svg>
                    </div>
                </div>
            </div>
        </div>
        <!-- ODDS AND ENDS-->
        <div class="my-8 space-y-2" id="Odds">
            <h1 class="text-3xl relative-anchor">One-Offs</h1>
            <p class="italic">Small projects, adventures, or findings. Less than deserves a full blog/project post, more than deserves to get lost to Twitter.</p>
            <div>
                <button class="p-2 px-4 transform bg-green-200 border-2 border-gray-200 rounded-xl hover:scale-105" id="all">All</button>
                {{range $name, $taxonomy := .Site.Taxonomies.tags}}
                    {{ with $.Site.GetPage (printf "/tags/%s" $name) }}
                            <button class="p-2 px-4 transform bg-gray-100 border-2 border-gray-200 rounded-xl hover:scale-105" id={{ $name }}>{{ $name }}</button>
                    {{end}}
                {{end}}
                
            </div>
            <div id="OddsGrid" class="grid grid-cols-5 py-2">
                <div class="flex flex-wrap col-span-4 justify-left ">
                    {{ range first 10 ( shuffle (where .Site.Pages "Section" "oneoff" )) }}
                        {{ if .IsPage }}
                            {{ .Render "summary"}}
                        {{ end }}
                    {{ end }}
                </div>
                <div class= "grid items-center grid-cols-1 align-middle project-frame">
                    <a href="/oneoff" class="z-10 clickable-link-box"><span></span></a>
                    <div class="align-center">
                        <h2 class="text-2xl font-bold text-center text-gray-800 ">More One-Offs</h2>
                        <svg xmlns="http://www.w3.org/2000/svg" class="block w-24 h-24 m-auto text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                          </svg>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <script>
        $(document).ready(function() {
            let allArticles = $('article[data-role="small-card"]');
            allArticles.each(element => console.log(element));
            //const someArticles = allArticles.filter(":contains('wedding')");

            $("button").click(function(){
                const id = $(this).attr('id');
                const myButton = $("button#" + id);
                console.log("Found button clicked with id " + id);

                allButtonsGray();
                myButton.removeClass("bg-gray-100");
                myButton.addClass("bg-green-200");

                let allArticles = $('article[data-role="small-card"]');
                allArticles.show();
                
                if (id != 'all') {
                    const others = $('article[data-role="small-card"]').filter(function(){
                        let data = $(this).attr('data-tags');
                        return (typeof(data) !== 'undefined' && !$(this).attr('data-tags').includes(id))
                    });
                    others.hide();
                }
            });

        });

        function allButtonsGray() {
            const articles = $('button');
            articles.show();
            articles.addClass("bg-gray-100");
            articles.removeClass("bg-green-200");
            console.log("Turning all articles gray");
        }
    </script>
	</main>
    {{ partial "footer.html" }}
{{ end }}
