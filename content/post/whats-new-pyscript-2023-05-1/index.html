---
title: "Whats New Pyscript 2023.04.1"
date: 2023-03-19T19:33:00-05:00
draft: true
tags:
tags:
- pyscript
- python
- pyodide
- javascript
description: "Description Here"
---

Last PR: 1306?? 3/20/23
Missing between 1284 and 1306?? possibly missed push?


<h2 class="post-h2">PyScript</h2>
<h4 class="post-h4">The <code>@when</code> decorator</h4>
<h4 class="post-h4"><code>&lt;script type="py"&gt;</code></h4>
<p class="post-p">To work around some errors in formatting and parsing, <code>&lt;script type="py"&gt;</code> is now a synonym for <code>&lt;py-script&gt;</code>(<a href="https://github.com/pyscript/pyscript/pull/1326">#1326</a>)</p>
<h4 class="post-h4"><code>src</code> attribute for <code>&lt;py-repl&gt;</code></h4>
<p class="post-p">The <code>&lt;py-repl&gt;</code> tag now accepts a <code>src</code> attribute, just like a <code>&lt;py-script&gt;</code> tag. When changed or set, it will set the contents of the repl's code to the provided value (<a href="https://github.com/pyscript/pyscript/pull/1292">#1292</a>). See the added documentation (<a href="https://github.com/pyscript/pyscript/pull/1353">#1353</a>)</p>
<h4 class="post-h4">Synclink Integration</h4>
<p class="post-p">The first step to bringing PyScript to web workers! (<a href="https://github.com/pyscript/pyscript/pull/1258">#1258</a>)</p>
<p class="post-p">Followed by Web Worker support! (<a href="https://github.com/pyscript/pyscript/pull/1333">#1333</a>) - very provisional, doesn't have DOM access at this stage.</p>
<p class="post-p">And now pyscript will let your know if your CORS headers are wrong for using workers (<a href="https://github.com/pyscript/pyscript/pull/1374">#1374</a>)</p>
<h4 class="post-h4"><code>py-[event]</code>s are now updated when changed</h4>
<p class="post-p">Previously, PyScript event handlers (the <code>py-[event]</code> snytax) were processed exactly once, at load time. Now, those handlers are updated whenever the correspnding attribute is changed. (<a href="https://github.com/pyscript/pyscript/pull/1435">#1435</a>)</p>
<h4 class="post-h4"><code>py-mount</code> is deprecated</h4>
<p class="post-p">This little-documented (and little-used) attribute had been available for "automatically" created proxies in Python for associated HTML elements. It's fallen out of step with the current recommended APIs, and since it wasn't much documented or recommended anyway, there were no qualms about deprecating it. It will be removed in a future release.</p>
<h4 class="post-h4">Auto-Docked <code>&lt;py-terminal&gt;</code></h4>
<p class="post-p">Adds a new <code>docked</code> configuration option for <code>py-terminal</code> in <code>&lt;py-config&gt;</code>, which defaults to <code>"docked"</code>. When this is set, the py-terminal is fixed as a bar at the bottom of the page, leaving the page underneath scrollable. (<a href="https://github.com/pyscript/pyscript/pull/1284">#1284</a>)</p>
<h4 class="post-h4"><code>&lt;py-repl&gt;</code> attributes: <code>output</code>, <code>output-mode</code>, <code>stderr</code></h4>
<p class="post-p">Users can now add the <code>output</code>, <code>output-mode</code>, <code>stderr</code> to their PyRepl. Output controls where <code>stdout</code> and <code>stderr</code> go, <code>stderr</code> controls where just stderr goes, <code>output-mode == 'append'</code> means the output location is not cleared before writing. (<a href="https://github.com/pyscript/pyscript/pull/1106">#1106</a>)</p>
<h4 class="post-h4">No More ID on py-repl run button</h4>
<p class="post-p">Every REPL had the id #runButton out of spec. The run buttons no longer share this, and instead all share the class <code>py-repl-run-button</code>. (<a href="https://github.com/pyscript/pyscript/pull/1296">#1296</a>)</p>
<h4 class="post-h4"><code>pys-on*</code> and <code>py-on*</code> attributes are removed</h4>
<p class="post-p">Existing from the very earliest days of py-script, these attributes are gone (<a href="https://github.com/pyscript/pyscript/pull/1361">#1361</a>)</p>
<h4 class="post-h4">Dynamically Import Pyodide</h4>
<p class="post-p">Pyodide is now included into the current page via an <code>import()</code> statement instead of by adding a <code>&lt;script&gt;</code> tag to the page. This should impact end-user behavior, but if you were doing something like using the presence of that <code>&lt;script&gt;</code> tag to signal something, you'll have to find a new (better) method. (<a href="https://github.com/pyscript/pyscript/pull/1306">#1306</a>)</p>
<h4 class="post-h4">No more 'Python Initialization Complete' Message</h4>
<p class="post-p">In its early stages, PyScript used the message "Python Initialization Complete" from Pyodide to signal when all of the user's scripts were run. In Pyodide 0.22, this message was removed, but PyScript added it into its own process to keep tests executing smoothly for the time being. That message has been removed - if your implementation relied on looking at the logs for that specific message, you will need to find a workaround. (<a href="https://github.com/pyscript/pyscript/pull/1373">#1373</a>)</p>


<h2 class="post-h2" id="plugins">Plugins</h2>
<h4 class="post-h4">Add <code>&lt;py-repl&gt;</code> plugin hooks</h4>
<p class="post-p">Add <code>beforePyReplExec()</code>, <code>afterPyReplExec()</code> plugin hooks for doing this with repls (<a href="https://github.com/pyscript/pyscript/pull/1106">#1106</a>)</p>
<h2 class="post-h2" id="infrastructure">Infrastructure</h2>
<h4 class="post-h4">Pull Request Template</h4>
<p class="post-p">PyScript now has a Pull Request template, to help contributors supply context and complete information with their PRs (<a href="https://github.com/pyscript/pyscript/pull/1279">#1279</a>)</p>
<h4 class="post-h4">Typescript 5</h4>
<p class="post-p">PyScript is now built using TypeScript 5 (<a href="https://github.com/pyscript/pyscript/pull/1377">#1377</a>)</p>

<h2 class="post-h2" id="community">Community / Core</h2>
<h4 class="post-h4">PyConUS 2023</h4>
<h4 class="post-h4">New Core Contributor: Andrea Giammarchi</h4>
<p class="post-p">Andrea's on the team! (<a href="https://github.com/pyscript/pyscript/pull/1450">#1450</a>)</p>