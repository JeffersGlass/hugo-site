---
title: "Electronics Bash - Arduino #10 - Write Better Code"
date: 2020-05-24T15:28:02-05:00
draft: false
aliases:
  - /electronics-bash/electronics-bash-arduino-10-write-better-code/
---
<p class="post-paragraph"><a href="https://jeff.glass/wp-content/uploads/2020/05/5-24-Thumb-Correct.png"><img alt="" class="aligncenter wp-image-1043 size-large post-img" height="405" src="5-24-Thumb-Correct-1024x576.png" width="720"/></a></p>
<p class="post-paragraph">In this stream, we'll be focusing on useful coding structures and practices, including:</p>
<ul class="post-ul">
<li>Arrays are your friend</li>
<li>Using delta-time avoids delay()</li>
<li>Switching program modes</li>
</ul>
<p class="post-paragraph">This is the space where I'll be posting code samples and circuit layouts sometime in advance of the stream, for those who want to follow along more directly. You can expect the code and formatting here to change up to a couple hours before the stream as the plan for the evening comes together.</p>
<p class="post-paragraph"><a href="https://docs.google.com/presentation/d/1Ix-fKJYUhf3mcSDUeTMwofDjEBjcRxef8k1f3QAYfzA/edit?usp=sharing"><img alt="" class="aligncenter wp-image-921 post-img" height="214" src="streamslides.png" width="500"/></a></p>
<!-- wp:heading -->
<h2 class="post-h2">Batteries</h2>
<!-- /wp:heading -->
<p class="post-paragraph">None of the code related to battery usage will be terribly complicated - we'll be mostly making use of the Analog Read function and the Serial monitor.</p>
<!-- wp:heading -->
<h2 class="post-h2">Build Together - Sensor Monitor</h2>
<!-- /wp:heading -->
<!-- wp:image {"id":1047,"sizeSlug":"large"} -->
<figure class="wp-block-image size-large"><img alt="" class="wp-image-1047 post-img" src="BuildTogether_5-24-759x1024.png"><figcaption>The following pieces of code will make use of this circuit</figcaption></img></figure>
<!-- /wp:image -->
<p class="post-paragraph">Next week, we'll be looking at some fundamental coding patterns using some simple components that everyone should have in their starter kit, plus one additional sensor or switch. Below is a bit of starter code to test root components (LEDs, buttons, potentiometer) as a place to start</p>
<h4 class="post-h4">LED Testing</h4>
<p class="post-paragraph">Try this code after installing the 5 LEDs and their resistors, to make sure they all work:</p>
<a href="https://gist.github.com/JeffersGlass/af9bc2787a64b8431aab1c97208db99a">Click here to view code on Github</a>
<h4 class="post-h4">LEDs and Inputs</h4>
<p class="post-paragraph">Once the LEDs, buttons, and potentiometer are installed, this bit of code tests them all. The 5 LEDs should chase a a speed determined by the position of the potentiometer, and the buttons should set the direction of the chase:</p>
<a href="https://gist.github.com/JeffersGlass/8773bf13e2f15eb18747b7e3a2eb8da8">Click here to view code on Github</a>
<hr/>
<h4 class="post-h4">Final Fire Alarm Code</h4>
<p class="post-paragraph">This is the code we wrote over the course of the evening's stream - it includes mapping sensor readings to individual threshhold levels, triggering an alarm state after being at a high level for a certain amount of time, and multiple conditions for exiting the alarm state back to the normal sensing state.</p>
<a href="https://gist.github.com/JeffersGlass/086e84b1ec8de7ba9e52809df4d348d7">Click here to view code on Github</a>
<!-- wp:separator -->
<hr class="wp-block-separator"/>
<!-- /wp:separator -->